{% extends 'base_auth.html' %}

{% block title %}Complete Your Account â€“ EchoMood{% endblock %}

{% block meta %}
<meta name="description" content="Complete your EchoMood account with a secure password.">
<meta name="keywords" content="EchoMood, Complete Account, Password">
<meta name="author" content="EchoMood Team">
{% endblock %}

{% block content %}
<h2>Complete Your Account</h2>

<!-- Personalized welcome message using user's name or display_name -->
<p class="welcome-text">
    Hi {{ user.first_name or user.display_name }}! Please set your password to finish setting up your account.
</p>

<!-- Password Setup Form -->
<form method="POST">
    {{ form.csrf_token }}

    <!-- Password Input Field -->
    <div class="inputBox">
        {{ form.password(class="authentication", placeholder=" ") }}
        <span>Password</span>
    </div>

    <!-- Error message if password field is invalid -->
    {% if form.password.errors %}
    <div class="flash-message error">
        {% for error in form.password.errors %}
        {{ error }}
        {% endfor %}
    </div>
    {% endif %}

    <!-- Confirm Password Field -->
    <div class="inputBox">
        {{ form.confirm_password(class="authentication", placeholder=" ") }}
        <span>Confirm Password</span>
    </div>

    <!-- Error message if confirm password is invalid -->
    {% if form.confirm_password.errors %}
    <div class="flash-message error">
        {% for error in form.confirm_password.errors %}
        {{ error }}
        {% endfor %}
    </div>
    {% endif %}

    <!-- Submit Button -->
    <div class="inputBox">
        {{ form.submit(class="authentication", value="Set Password") }}
    </div>
</form>
{% endblock %}